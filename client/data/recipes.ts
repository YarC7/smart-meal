import { Recipe } from "@shared/recipe";

export const RECIPES: Recipe[] = [
  // Vietnamese
  {
    id: "pho-bo",
    mealId: "meal-pho-bo",
    title_vi: "Phở bò",
    title_en: "Beef Pho",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "low_cost", "high_protein"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Medium",
    prepTime: 20,
    cookTime: 40,
    ingredients: [
      { name: "Bánh phở", qty: 400, unit: "g" },
      { name: "Thịt bò", qty: 400, unit: "g" },
      { name: "Hành tây", qty: 1, unit: "piece" },
      { name: "Gừng", qty: 20, unit: "g" },
      { name: "Quế hồi", qty: 1, unit: "tbsp", optional: true },
      { name: "Nước mắm", qty: 2, unit: "tbsp" },
      { name: "Rau thơm", qty: 50, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Nướng hành gừng cho thơm; ninh với xương/nước để làm nước dùng.", time: 1200 },
      { order: 2, text: "Chần bánh phở; thái lát thịt bò mỏng.", time: 300 },
      { order: 3, text: "Chan nước dùng sôi vào tô, thêm rau thơm và nêm nếm." },
    ],
    tips: ["Dùng quế hồi vừa đủ để hương không quá gắt."],
  },
  {
    id: "com-tam-suon",
    mealId: "meal-com-tam-suon",
    title_vi: "Cơm tấm sườn",
    title_en: "Broken Rice with Pork Chop",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "low_cost"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 15,
    cookTime: 20,
    ingredients: [
      { name: "Sườn heo", qty: 300, unit: "g" },
      { name: "Cơm tấm", qty: 300, unit: "g" },
      { name: "Nước mắm", qty: 2, unit: "tbsp" },
      { name: "Dưa chua", qty: 80, unit: "g", optional: true },
    ],
    steps: [
      { order: 1, text: "Ướp sườn với nước mắm, đường, tỏi; nướng/áp chảo.", time: 900 },
      { order: 2, text: "Nấu cơm; dọn cùng đồ chua và mỡ hành." },
    ],
  },
  {
    id: "bun-cha",
    mealId: "meal-bun-cha",
    title_vi: "Bún chả",
    title_en: "Grilled Pork with Vermicelli",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "low_cost", "high_protein"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Medium",
    prepTime: 20,
    cookTime: 25,
    ingredients: [
      { name: "Thịt ba chỉ", qty: 400, unit: "g" },
      { name: "Thịt heo xay", qty: 300, unit: "g" },
      { name: "Bún", qty: 400, unit: "g" },
      { name: "Nước mắm", qty: 60, unit: "ml" },
      { name: "Cà rốt + đu đủ xanh", qty: 300, unit: "g" },
      { name: "Tỏi ớt", qty: 15, unit: "g" },
      { name: "Rau sống", qty: 60, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Trộn thịt băm với tỏi, đường, nước mắm; vo viên.", time: 600 },
      { order: 2, text: "Ướp ba chỉ; nướng cả viên và ba chỉ đến xém cạnh.", time: 720 },
      { order: 3, text: "Pha nước chấm chua ngọt; luộc bún; dọn cùng rau." },
    ],
    tips: ["Nướng lửa vừa để thịt chín đều, không khô."],
  },
  {
    id: "ga-xao-sa-ot",
    mealId: "meal-ga-xao-sa-ot",
    title_vi: "Gà xào sả ớt",
    title_en: "Lemongrass Chili Chicken",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "high_protein"],
    image: "/placeholder.svg",
    servings: 3,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 15,
    ingredients: [
      { name: "Đùi gà", qty: 450, unit: "g" },
      { name: "Sả", qty: 40, unit: "g" },
      { name: "Ớt", qty: 5, unit: "g" },
      { name: "Nước mắm", qty: 1, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Xào thơm sả ớt; cho gà vào đảo săn.", time: 420 },
      { order: 2, text: "Nêm nếm và rim chín tới." },
    ],
  },
  {
    id: "canh-chua-ca",
    mealId: "meal-canh-chua-ca",
    title_vi: "Canh chua cá",
    title_en: "Vietnamese Sour Fish Soup",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "low_cost"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 15,
    ingredients: [
      { name: "Cá", qty: 500, unit: "g" },
      { name: "Thơm", qty: 150, unit: "g" },
      { name: "Cà chua", qty: 120, unit: "g" },
      { name: "Bạc hà, giá", qty: 200, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Nấu sôi nước; cho cà chua, thơm vào; nêm nếm.", time: 300 },
      { order: 2, text: "Thả cá vào; chín tới thì thêm rau; tắt bếp." },
    ],
  },
  {
    id: "banh-mi-thit",
    mealId: "meal-banh-mi",
    title_vi: "Bánh mì thịt",
    title_en: "Vietnamese Banh Mi",
    category: "Snack/Dessert",
    tags: ["vietnamese", "low_cost"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 6,
    ingredients: [
      { name: "Bánh mì nhỏ", qty: 2, unit: "piece" },
      { name: "Chả/thịt nguội", qty: 120, unit: "g" },
      { name: "Đồ chua", qty: 120, unit: "g" },
      { name: "Dưa leo", qty: 80, unit: "g" },
      { name: "Ngò", qty: 20, unit: "g" },
      { name: "Mayonnaise", qty: 1, unit: "tbsp" },
      { name: "Nước tương/Maggi", qty: 1, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Làm nóng bánh 5–6 phút.", time: 360 },
      { order: 2, text: "Phết sốt, thêm nhân; rưới nước tương; dùng ngay." },
    ],
  },
  {
    id: "bun-bo-hue",
    mealId: "meal-bun-bo-hue",
    title_vi: "Bún bò Huế",
    title_en: "Spicy Beef Noodle Soup",
    category: "Lunch/Dinner",
    tags: ["vietnamese"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Hard",
    prepTime: 25,
    cookTime: 60,
    ingredients: [
      { name: "Bún", qty: 400, unit: "g" },
      { name: "Bò bắp", qty: 500, unit: "g" },
      { name: "Sả", qty: 40, unit: "g" },
      { name: "Mắm ruốc", qty: 1, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Ninh nước dùng với sả; nêm mắm ruốc." },
      { order: 2, text: "Luộc bún; thái thịt; chan nước dùng cay thơm." },
    ],
  },
  {
    id: "ca-kho-to",
    mealId: "meal-ca-kho-to",
    title_vi: "Cá kho tộ",
    title_en: "Caramelized Fish in Clay Pot",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "low_cost"],
    image: "/placeholder.svg",
    servings: 3,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 25,
    ingredients: [
      { name: "Cá", qty: 500, unit: "g" },
      { name: "Đường", qty: 1, unit: "tbsp" },
      { name: "Nước mắm", qty: 2, unit: "tbsp" },
      { name: "Hành tỏi", qty: 20, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Thắng đường làm nước màu; xếp cá; nêm nếm." },
      { order: 2, text: "Kho lửa nhỏ đến khi sệt thơm." },
    ],
  },
  {
    id: "goi-cuon",
    mealId: "meal-goi-cuon",
    title_vi: "Gỏi cuốn",
    title_en: "Fresh Spring Rolls",
    category: "Snack/Dessert",
    tags: ["vietnamese", "low_cost"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Easy",
    prepTime: 20,
    cookTime: 0,
    ingredients: [
      { name: "Bánh tráng", qty: 12, unit: "piece" },
      { name: "Tôm/Thịt/Đậu hũ", qty: 300, unit: "g" },
      { name: "Bún", qty: 200, unit: "g" },
      { name: "Rau sống", qty: 200, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Sơ chế nguyên liệu; pha nước chấm." },
      { order: 2, text: "Cuốn gỏi; thưởng thức ngay." },
    ],
  },
  {
    id: "bun-thit-nuong",
    mealId: "meal-bun-thit-nuong",
    title_vi: "Bún thịt nướng",
    title_en: "Grilled Pork Noodle Bowl",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "high_protein"],
    image: "/placeholder.svg",
    servings: 3,
    difficulty: "Medium",
    prepTime: 20,
    cookTime: 20,
    ingredients: [
      { name: "Thịt heo", qty: 400, unit: "g" },
      { name: "Bún", qty: 300, unit: "g" },
      { name: "Rau sống", qty: 150, unit: "g" },
      { name: "Nước mắm", qty: 60, unit: "ml" },
    ],
    steps: [
      { order: 1, text: "Ướp thịt; nướng áp chảo.", time: 900 },
      { order: 2, text: "Luộc bún; pha nước mắm; bày cùng rau." },
    ],
  },

  // Western
  {
    id: "spaghetti-bolognese",
    mealId: "meal-bolognese",
    title_vi: "Mì Ý sốt bò bằm",
    title_en: "Spaghetti Bolognese",
    category: "Lunch/Dinner",
    tags: ["western"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Medium",
    prepTime: 10,
    cookTime: 30,
    ingredients: [
      { name: "Spaghetti", qty: 320, unit: "g" },
      { name: "Thịt bò xay", qty: 400, unit: "g" },
      { name: "Cà chua hộp", qty: 400, unit: "g" },
      { name: "Hành tỏi", qty: 20, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Xào hành tỏi; cho bò vào xào săn.", time: 480 },
      { order: 2, text: "Thêm cà chua; nêm nếm; nấu liu riu.", time: 1320 },
      { order: 3, text: "Luộc mì; trộn sốt; dọn nóng." },
    ],
  },
  {
    id: "grilled-chicken-salad",
    mealId: "meal-grilled-chicken-salad",
    title_vi: "Salad gà nướng",
    title_en: "Grilled Chicken Salad",
    category: "Lunch/Dinner",
    tags: ["western", "high_protein", "low_cost"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 12,
    ingredients: [
      { name: "Ức gà", qty: 300, unit: "g" },
      { name: "Rau xà lách", qty: 150, unit: "g" },
      { name: "Cà chua bi", qty: 120, unit: "g" },
      { name: "Dưa leo", qty: 100, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Ướp muối tiêu; nướng 6–7 phút mỗi mặt.", time: 720 },
      { order: 2, text: "Trộn rau với dầu olive và chanh.", time: 180 },
      { order: 3, text: "Thái lát gà; bày lên salad." },
    ],
  },
  {
    id: "veggie-omelette",
    mealId: "meal-veggie-omelette",
    title_vi: "Trứng ốp rau củ",
    title_en: "Veggie Omelette",
    category: "Breakfast",
    tags: ["western", "low_cost"],
    image: "/placeholder.svg",
    servings: 1,
    difficulty: "Easy",
    prepTime: 5,
    cookTime: 6,
    ingredients: [
      { name: "Trứng", qty: 2, unit: "piece" },
      { name: "Ớt chuông + hành tây", qty: 100, unit: "g" },
      { name: "Phô mai", qty: 20, unit: "g", optional: true },
    ],
    steps: [
      { order: 1, text: "Đánh trứng; xào sơ rau; đổ trứng vào chảo.", time: 300 },
      { order: 2, text: "Gập đôi; chín vừa thì tắt bếp." },
    ],
  },
  {
    id: "beef-stir-fry",
    mealId: "meal-beef-stir-fry",
    title_vi: "Bò xào rau củ",
    title_en: "Beef Stir-fry",
    category: "Lunch/Dinner",
    tags: ["western", "high_protein"],
    image: "/placeholder.svg",
    servings: 3,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 10,
    ingredients: [
      { name: "Thịt bò", qty: 350, unit: "g" },
      { name: "Bông cải + cà rốt", qty: 250, unit: "g" },
      { name: "Nước tương", qty: 1, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Xào nhanh lửa lớn cho bò chín tái.", time: 360 },
      { order: 2, text: "Thêm rau; đảo đều; nêm nếm vừa ăn." },
    ],
  },
  {
    id: "salmon-with-rice",
    mealId: "meal-salmon-rice",
    title_vi: "Cá hồi áp chảo với cơm",
    title_en: "Pan-seared Salmon with Rice",
    category: "Lunch/Dinner",
    tags: ["western"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 8,
    cookTime: 10,
    ingredients: [
      { name: "Cá hồi", qty: 280, unit: "g" },
      { name: "Cơm", qty: 300, unit: "g" },
      { name: "Chanh", qty: 1, unit: "piece" },
    ],
    steps: [
      { order: 1, text: "Áp chảo da giòn; nêm muối tiêu.", time: 480 },
      { order: 2, text: "Dùng kèm cơm và lát chanh." },
    ],
  },
  {
    id: "chicken-caesar-wrap",
    mealId: "meal-chicken-caesar-wrap",
    title_vi: "Bánh cuốn gà Caesar",
    title_en: "Chicken Caesar Wrap",
    category: "Lunch/Dinner",
    tags: ["western", "high_protein"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 8,
    ingredients: [
      { name: "Tortilla", qty: 2, unit: "piece" },
      { name: "Ức gà", qty: 250, unit: "g" },
      { name: "Rau xà lách", qty: 100, unit: "g" },
      { name: "Sốt Caesar", qty: 2, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Nướng/áp chảo gà; thái lát.", time: 600 },
      { order: 2, text: "Cuộn với rau và sốt trong tortilla." },
    ],
  },
  {
    id: "lentil-soup",
    mealId: "meal-lentil-soup",
    title_vi: "Súp đậu lăng",
    title_en: "Lentil Soup",
    category: "Lunch/Dinner",
    tags: ["western", "vegan", "low_cost"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Easy",
    prepTime: 10,
    cookTime: 25,
    ingredients: [
      { name: "Đậu lăng", qty: 250, unit: "g" },
      { name: "Cà rốt + cần tây", qty: 250, unit: "g" },
      { name: "Cà chua hộp", qty: 200, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Xào sơ rau củ; thêm nước và đậu; nấu mềm.", time: 1200 },
      { order: 2, text: "Nêm nếm; ăn nóng." },
    ],
  },
  {
    id: "turkey-chili",
    mealId: "meal-turkey-chili",
    title_vi: "Cà ri ớt gà tây",
    title_en: "Turkey Chili",
    category: "Lunch/Dinner",
    tags: ["western", "high_protein", "low_cost"],
    image: "/placeholder.svg",
    servings: 4,
    difficulty: "Medium",
    prepTime: 10,
    cookTime: 35,
    ingredients: [
      { name: "Thịt gà tây xay", qty: 400, unit: "g" },
      { name: "Đậu đỏ", qty: 300, unit: "g" },
      { name: "Cà chua hộp", qty: 300, unit: "g" },
    ],
    steps: [
      { order: 1, text: "Xào thịt; thêm đậu và cà chua; hầm sệt.", time: 1500 },
      { order: 2, text: "Nêm vị cay vừa ăn." },
    ],
  },
  {
    id: "avocado-toast-egg",
    mealId: "meal-avocado-toast-egg",
    title_vi: "Bánh mì bơ trứng",
    title_en: "Avocado Toast with Egg",
    category: "Breakfast",
    tags: ["western", "low_cost", "high_protein"],
    image: "/placeholder.svg",
    servings: 1,
    difficulty: "Easy",
    prepTime: 5,
    cookTime: 5,
    ingredients: [
      { name: "Bánh mì", qty: 1, unit: "slice" },
      { name: "Bơ", qty: 1, unit: "piece" },
      { name: "Trứng", qty: 1, unit: "piece" },
    ],
    steps: [
      { order: 1, text: "Nướng bánh; dằm bơ; ốp la trứng.", time: 300 },
      { order: 2, text: "Phết bơ lên bánh; đặt trứng; rắc muối tiêu." },
    ],
  },
  {
    id: "greek-yogurt-parfait",
    mealId: "meal-greek-yogurt-parfait",
    title_vi: "Sữa chua Hy Lạp trộn trái cây",
    title_en: "Greek Yogurt Parfait",
    category: "Snack/Dessert",
    tags: ["western", "low_cost", "high_protein"],
    image: "/placeholder.svg",
    servings: 2,
    difficulty: "Easy",
    prepTime: 5,
    cookTime: 0,
    ingredients: [
      { name: "Sữa chua Hy Lạp", qty: 250, unit: "g" },
      { name: "Trái cây", qty: 200, unit: "g" },
      { name: "Mật ong", qty: 1, unit: "tbsp" },
    ],
    steps: [
      { order: 1, text: "Xếp lớp sữa chua, trái cây, rưới mật ong." },
    ],
  },
  // Existing simple seeds (ensuring compatibility)
  {
    id: "r_vn_goi_ga",
    mealId: "vn_goi_ga",
    title_vi: "Gỏi gà xé phay",
    title_en: "Vietnamese Chicken Salad",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "salad", "low_cost"],
    steps: [
      { order: 1, text: "Luộc gà đến chín, để nguội rồi xé sợi.", time: 900 },
      { order: 2, text: "Bắp cải thái mỏng, ngâm đá cho giòn.", time: 300 },
      {
        order: 3,
        text: "Trộn gà, bắp cải, hành tây, rau răm với nước mắm chua ngọt.",
        time: 120,
      },
      { order: 4, text: "Rắc đậu phộng rang và thưởng thức." },
    ],
    prepTime: 15,
    cookTime: 20,
    difficulty: "Easy",
    servings: 2,
    tips: ["Luộc gà lửa nhỏ để thịt không khô.", "Thêm chanh cho vị tươi."],
    image: "/placeholder.svg",
    ingredients: [
      { name: "Thịt gà", qty: 200, unit: "g" },
      { name: "Bắp cải", qty: 200, unit: "g" },
      { name: "Rau răm", qty: 10, unit: "g", optional: true },
      { name: "Đậu phộng rang", qty: 20, unit: "g", optional: true },
    ],
  },
  {
    id: "r_ws_spaghetti_bolognese_seed",
    mealId: "ws_spaghetti_bolognese",
    title_vi: "Mì Ý sốt bò bằm (seed)",
    title_en: "Spaghetti Bolognese (seed)",
    category: "Lunch/Dinner",
    tags: ["western", "pasta"],
    steps: [
      { order: 1, text: "Luộc mì al dente theo gợi ý trên bao bì.", time: 600 },
      { order: 2, text: "Xào thơm hành tỏi, cho thịt bò bằm đảo săn.", time: 300 },
      { order: 3, text: "Thêm cà chua, nêm nếm; đun liu riu.", time: 600 },
      { order: 4, text: "Trộn sốt với mì, rắc phô mai (tuỳ chọn)." },
    ],
    prepTime: 10,
    cookTime: 25,
    difficulty: "Medium",
    servings: 2,
    image: "/placeholder.svg",
    ingredients: [
      { name: "Spaghetti", qty: 240, unit: "g" },
      { name: "Thịt bò bằm", qty: 200, unit: "g" },
      { name: "Cà chua", qty: 160, unit: "g" },
    ],
  },
  {
    id: "r_vn_mi_quang",
    mealId: "vn_mi_quang",
    title_vi: "Mì Quảng đơn giản",
    title_en: "Simple Mi Quang",
    category: "Lunch/Dinner",
    tags: ["vietnamese", "noodle"],
    steps: [
      { order: 1, text: "Luộc mì Quảng, để ráo.", time: 360 },
      { order: 2, text: "Xào thịt gà với chút nghệ, nêm nếm.", time: 300 },
      { order: 3, text: "Chan nước dùng nhẹ, thêm rau sống, đậu phộng." },
    ],
    prepTime: 10,
    cookTime: 20,
    difficulty: "Easy",
    servings: 2,
    image: "/placeholder.svg",
    ingredients: [
      { name: "Mì Quảng", qty: 240, unit: "g" },
      { name: "Thịt gà", qty: 140, unit: "g" },
    ],
  },
  {
    id: "r_ws_chicken_salad",
    mealId: "ws_chicken_salad",
    title_vi: "Salad ức gà",
    title_en: "Chicken Salad",
    category: "Lunch/Dinner",
    tags: ["western", "salad", "high_protein"],
    steps: [
      { order: 1, text: "Áp chảo ức gà đến 72°C, nghỉ 5 phút.", time: 480 },
      { order: 2, text: "Trộn xà lách, cà chua với sốt dầu giấm.", time: 180 },
      { order: 3, text: "Thái lát gà, bày lên salad." },
    ],
    prepTime: 10,
    cookTime: 12,
    difficulty: "Easy",
    servings: 2,
    image: "/placeholder.svg",
    ingredients: [
      { name: "Ức gà", qty: 200, unit: "g" },
      { name: "Rau xà lách", qty: 160, unit: "g" },
      { name: "Cà chua", qty: 100, unit: "g" },
    ],
  },
];

const STORAGE_KEY = "recipes.v2";

export function loadRecipes(): Recipe[] {
  const v = localStorage.getItem(STORAGE_KEY);
  if (v) return JSON.parse(v) as Recipe[];
  localStorage.setItem(STORAGE_KEY, JSON.stringify(RECIPES));
  return RECIPES;
}

export function getRecipeById(id: string): Recipe | undefined {
  return loadRecipes().find((r) => r.id === id);
}

export function getRecipeByMealId(mealId: string): Recipe | undefined {
  return loadRecipes().find((r) => r.mealId === mealId);
}
